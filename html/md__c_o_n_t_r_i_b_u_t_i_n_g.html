<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WRIMS3: Contributing Guidelines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WRIMS3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__c_o_n_t_r_i_b_u_t_i_n_g.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Contributing Guidelines </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md7"></a></p>
<p>Thank you for considering contributing to this project! To keep things smooth and maintain high quality, please follow the rules and best practices outlined below.</p>
<ul>
<li>Be respectful and constructive in code reviews and discussions.</li>
<li>Follow the Code of Conduct at all times.</li>
<li>All code must be reviewed and approved via a Pull Request (PR)</li>
<li>Write clear, concise commit messages and PR descriptions.</li>
<li>The <span class="tt">main</span> branch is protected and always production-ready. All changes must be made via pull requests.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Developer IDE configuration</h1>
<p>See <a class="el" href="md__e_c_l_i_p_s_e-_c_o_n_f_i_g.html">ECLIPSE-CONFIG.md</a> for Eclipse IDE setup instruction</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Developer Workflow Overview</h1>
<dl class="section important"><dt>Important</dt><dd>This repository has restricted the permissions for contributing to the repository. If you are unsure about your permissions, ask about it the <a href="https://github.com/CentralValleyModeling/wrims-engine/discussions/44">Developer Permissions</a> discussion.</dd></dl>
<ol type="1">
<li><a href="https://docs.github.com/en/issues/tracking-your-work-with-issues/using-issues/creating-an-issue">Create an issue</a></li>
<li>Assign the issue to yourself</li>
<li>Create a new branch from ```main``` to address the assigned issue<ul>
<li>If creating a patch release, branch from a release branch</li>
</ul>
</li>
<li>Open a pull request</li>
<li>Address the issue</li>
<li>Commit changes</li>
<li>Have a maintainer review the pull request<ul>
<li>A pull request may require revisions from the reviewer before being approved.</li>
</ul>
</li>
<li>Squash commits before merging the pull request</li>
<li>Merge approved pull request into the main branch</li>
<li>Delete the working branch if no longer needed</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>Creating and assigning an issue will only work for members of the development team.</dd></dl>
<p>The following links reference workflows that closely model the developer workflow for this repository:</p><ul>
<li><a href="https://docs.github.com/en/get-started/using-github/github-flow">GitHub flow</a></li>
<li><a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">Gitflow workflow</a></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Coding Standards and Style Guides</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
General Principles (All Languages)</h2>
<ul>
<li>Follow <a href="https://en.wikipedia.org/wiki/SOLID"><b>SOLID</b> design principles</a></li>
<li>Follow the code style for the context (language, file purpose, etc)</li>
<li>Write clear, readable, and self-explanatory code.</li>
<li>Use consistent indentation.</li>
<li>Use meaningful names for variables, functions, and classes.</li>
<li>Avoid hard-coding values - use constants or configuration where appropriate.</li>
<li>Comment why something is done, not what is done (code should explain the "what").</li>
<li>Avoid global variables unless necessary.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
Fortran</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Style</h3>
<ul>
<li>Use <span class="tt">implicit none</span> to avoid undeclared variables.</li>
<li>Follow the <a href="https://stdlib.fortran-lang.org/page/contributing/StyleGuide.html">Fortran Standard Library Style Guide</a>.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Java</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
Style</h3>
<ul>
<li>Follow the <a href="https://google.github.io/styleguide/javaguide.html">Google Java Style Guide</a>.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
Python</h2>
<p>The short answer: <a href="https://peps.python.org/pep-0008/">PEP 8</a>. It's encouraged to use a code formatter like <span class="tt">autopep8</span>, or <span class="tt">black</span>. As long as it's PEP 8 compliant, it's fine.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
Scripts</h3>
<p>Python scripts should provide a <a href="https://docs.python.org/3/library/argparse.html">CLI</a> entry point so other users don't need to change source code in order to run the script with new inputs.</p>
<p>Limit the use of <span class="tt">jupyter</span> notebooks for scripts that others might use for production or development activities. Notebooks are fine for documentation, tutorials, and the like.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
Modules &amp; Packages</h3>
<p>Under most circumstances, Python modules shouldn't cause side effects upon <span class="tt">import</span>, they should not use <span class="tt">global</span>, and should not use <span class="tt">print</span> when <span class="tt">logging</span> is more appropriate.</p>
<p>Avoid the use of <a href="https://docs.python.org/3/glossary.html#term-namespace-package">namespace packages</a>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
Branching Strategies</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
<span class="tt">main</span> Branch</h2>
<ul>
<li>The <span class="tt">main</span> branch is protected and always production ready. All changes must be made via pull requests.</li>
<li>Support <b>collaborative development</b>.</li>
<li>Ensure features and fixes are tested before release.</li>
<li>PR reviews are <b>required</b>.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
Git Operations and Pull Requests Guidelines</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
Branching</h2>
<ul>
<li>All branches should have a known goal and lifecycle.</li>
<li>The branch name should summarize its goal include one of these prefixes:<ul>
<li><span class="tt">feature/</span> - branches with new features</li>
<li><span class="tt">bugfix/</span> - branches with bug fixes</li>
<li><span class="tt">devops/</span> - branches that change the CI/CD process, and similar activities.</li>
<li><span class="tt">docs/</span> - for branches only containing documentation addition or edits</li>
</ul>
</li>
<li>Branches should be lightweight according to the goal and lifecycle.</li>
<li><b>Main branch must remain deployable at all times.</b><ul>
<li>No pull request should be made to <span class="tt">main</span> with partially completed work (with very limited exceptions which need to be coordinated before opening the pull request).</li>
<li>"Deployable" means:<ul>
<li>Developer tested</li>
<li>Automated tests are passing</li>
<li>Feature complete</li>
<li>Peer-reviewed and accepted</li>
<li>Static analysis completed</li>
<li>Test coverage metrics goal met</li>
</ul>
</li>
</ul>
</li>
<li><b>Other people's branches:</b><ul>
<li>Do not push commits to someone else's feature branch; at least not without coordinating with them first.<ul>
<li>It is somewhat rude.</li>
<li>There could be local changes that the originator has not pushed up yet that you are missing.</li>
</ul>
</li>
<li>Instead submit a PR to the developer's branch if you feel you have a constructive change for it.</li>
</ul>
</li>
<li><b>Branches in general</b><ul>
<li>Do not leave feature branches laying around.</li>
</ul>
</li>
<li><b>Avoid Git Force Pushes</b><ul>
<li>See below sections below for details on when <span class="tt">--force</span> is okay.</li>
<li>When possible, avoid the use of <span class="tt">git push --force</span>. If the option is available, use <span class="tt">git push --force-with-lease</span> (or the equivalent option in the application in use). <span class="tt">--force</span> performs a blind overwrite of the branch on the server, which may sometimes undesirably blast away changes. <span class="tt">--force-with-lease</span> checks the status of the branch on the server first, and if it has changed sinc the last <span class="tt">fetch</span> or <span class="tt">pull</span>, will fail the <span class="tt">push</span>.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
Commits</h2>
<ul>
<li>The primary rule is "be clear about what this commit is doing."</li>
<li><a href="https://cbea.ms/git-commit/">How to Write a Git Commit Message</a></li>
<li>If you cannot open the above guide, the format for a commit is:<ul>
<li>first 60 characters, short summary</li>
<li>blank line</li>
<li>more detailed description</li>
</ul>
</li>
<li>If work is done for a ticket, the GitHub ID should be referenced. This allows GitHub/GitHub issues to link together and cross-reference.</li>
<li>Try to group related changes in a single commit.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
Use the Force?</h3>
<ul>
<li>It is okay to rewrite your local feature branch history so that it is simpler and more clear<ul>
<li>UNTIL you push the branch and share it</li>
<li>Though it may still be okay, coordinate with the team.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md25"></a>
Pull Requests</h2>
<ul>
<li>The lifecycle of a pull request is the developer's responsibility.</li>
<li>As much as possible, pull requests should have small changes. However, this means as small as possible.</li>
<li>Preferred is to merge in any successful change during development as soon as possible. This means a given effort may involve a series of pull requests. This is normal and preferred.</li>
<li>NOTE: while prudence and fixing complexity can override the above two rules, it should not as a matter of course and only be done after smaller changes have been attempted.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
Task List Checker</h3>
<ul>
<li><b>Task List Checker</b> workflow has been enabled for all pull requests.</li>
<li>Any tasks in the pull request description will be checked for completion.</li>
<li>If any tasks are unchecked at the time of the last build, a "pending check" named "checklist completion" will block the PR from being merged.</li>
<li>Editing the PR description or checking off a task in the description will trigger a rerun of the Task List Checker workflow.</li>
<li>Only tasks in the PR description are checked, not tasks in comments.</li>
<li>Tasks (checkboxes) can be added to the description using markdown format: <div class="fragment"><div class="line">- [ ] Task 1</div>
<div class="line">- [ ] Task 2 </div>
</div><!-- fragment --></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md27"></a>
Pull Request Title/Summary</h3>
<ul>
<li>If PR is a draft, but you still want review/feedback/builds, prefix with one of the following for better communication with reviewers. Note that GitHub has a dedicated "Draft" feature<ul>
<li>[WIP]/[DRAFT] - the changes within the Pull Request are still under active development</li>
<li>[DO NOT MERGE] - The Pull Request is not yet ready to be merged, and may need further work.</li>
<li>[RFC] - the PR is actively seeking comments and feedback from other developers.</li>
</ul>
</li>
<li>When the pull request is ready, remove the title prefix using the edit menu.</li>
<li>Optimally replace with [READY FOR REVIEW]in addition to the above indication.</li>
<li>The summary should have a meaningful description of what you are trying to accomplish.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md28"></a>
Pull Request Description</h3>
<ul>
<li>If you have followed the advice in the commit section, you can usually leave the commit message as the default, which will be the commits from the source branch of the PR.</li>
<li>Otherwise, please explain in more detail what you are trying to accomplish. If you are working on a draft but want specific feedback, please indicate so in the description.</li>
<li>If you are working on two projects at once with related changes, please paste a link to that open PR or branch for the reviewer.</li>
<li>If work is done for a ticket, the GitHub ID should be referenced. THis allows GitHub issues to link together and cross-rference.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md29"></a>
Start of work</h3>
<ul>
<li>A pull request should be created as soon as possible within reason to allow others to understand, review, and collaborate on the change.<ul>
<li>Pull request should include the GitHub issue numbers (note that multiple tickets can be referenced).</li>
<li>The pull request name should summarize the work being done similar to the branch name.</li>
</ul>
</li>
<li>A pull request should be small, concise, easier to review, and understand.</li>
<li>Multiple pull requests can be made from a given branch to meet the above statement.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
During work</h3>
<ul>
<li>The developer will push small commits during the development.</li>
<li><b>Commits should be squashed and rebased as necessary for clearer commit history. This should occur while work is progressing and not just once at the end.</b></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md31"></a>
End of Work</h3>
<ul>
<li>Before a pull request is merged, changes should be tested by the developer thorugh both automated and manual exercise of the changed code.</li>
<li>Acquiring peer review is the responsibility of the developer and the developer should assign appropriate reviewers for their work. All default reviewers should always be included, do not remove them.<ul>
<li>Default reviewers should be regularly audited to ensure relevancy to the repository.</li>
<li>If you want a specific reviewer, add them to the list instead of replacing the list.</li>
<li>If your PR is a draft or wip, it is acceptable to clear the field. In other cases it is not. <br  />
</li>
</ul>
</li>
<li>Further commits, squashes, ad rebases should be coordinated with active revieweers.</li>
<li>Once the PR is actively being revieewed, do not rewrite history (squash, rebase, etc.) until the PR is complete and approved.</li>
<li>Ideally, do not push any new commits until the reviewer has marked the PR citing they have finished reviewing.</li>
<li>Respond to every comment and task made by reviewers.</li>
<li>Task authors should be responsible for clearing tasks, not PR authors.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
On pull request merge</h3>
<ul>
<li>Once the pull request has been merged, the issue can be assigned to QA testing to verify that the bug has been addressed.</li>
<li>The developer should assign an appropriate reviewer for their work. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
